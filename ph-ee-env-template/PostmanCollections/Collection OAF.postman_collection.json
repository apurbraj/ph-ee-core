{
	"info": {
		"_postman_id": "ca4a575d-03b8-4873-898d-8a7cf6e2e46e",
		"name": "Collection OAF",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "channel request",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Platform-TenantId",
						"value": "{{tenantName}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"payer\": [\n        {\n            \"key\": \"MSISDN\",\n            \"value\": \"254708374149\"\n        },\n        {\n            \"key\": \"ACCOUNTID\",\n            \"value\": \"24450523\"\n        }\n    ],\n    \"amount\": {\n        \"amount\": \"1\",\n        \"currency\": \"USD\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"MPESA\",\n        \"subScenario\": \"BUYGOODS\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"BUSINESS\"\n    }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{channelHost}}channel/collection",
					"protocol": "https",
					"host": [
						"{{channelHost}}channel"
					],
					"path": [
						"collection"
					]
				},
				"description": "Cloud API"
			},
			"response": []
		},
		{
			"name": "Mpesa buygoods callback",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"Body\": {\n    \"stkCallback\": {\n      \"MerchantRequestID\": \"61034-2694171-1\",\n      \"CheckoutRequestID\": \"ws_CO_101120211333024994\",\n      \"ResultCode\": 1037,\n      \"ResultDesc\": \"DS timeout.\"\n    },\n    \"CallbackMetadata\":{\n         \"Item\":[\n            {\n               \"Name\":\"Amount\",\n               \"Value\":10\n            },\n            {\n               \"Name\":\"MpesaReceiptNumber\",\n               \"Value\":\"MRLSJHDH9\"\n            }\n         ]\n      }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{mpesaHost}}/buygoods/callback",
					"protocol": "http",
					"host": [
						"{{mpesaHost}}"
					],
					"path": [
						"buygoods",
						"callback"
					]
				}
			},
			"response": []
		},
		{
			"name": "Notifications Callback",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\n  {\n    \"id\": \"20\",\n    \"externalId\": \"SM7b1b75ffa3f5737a\",\n    \"deliveredOnDate\": \"2022-01-11\",\n    \"deliveryStatus\": 300,\n    \"hasError\": false,\n    \"errorMessage\": null,\n    \"bridgeId\": 2,\n    \"tenantId\": 1\n  }\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{notificationsHost}}/sms/callback",
					"protocol": "http",
					"host": [
						"{{notificationsHost}}"
					],
					"path": [
						"sms",
						"callback"
					]
				},
				"description": "Callback from message gateway"
			},
			"response": []
		},
		{
			"name": "Meesage gateway provider callback",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"contact_id\": \"CT190322d3246e0a2f\",\n  \"contact[conversation_status]\": \"closed\",\n  \"contact[id]\": \"CT190322d3246e0a2f\",\n  \"contact[incoming_message_count]\": 0,\n  \"contact[last_message_id]\": \"SM8edad9e1caf03b04\",\n  \"contact[last_message_time]\": 1641306324,\n  \"contact[last_outgoing_message_time]\": 1641306324,\n  \"contact[message_count]\": 17,\n  \"contact[name]\": \"+15005550012\",\n  \"contact[outgoing_message_count]\": 17,\n  \"contact[phone_number]\": \"+15005550012\",\n  \"contact[project_id]\": \"PJ5ff552ce01d2978c\",\n  \"contact[send_blocked]\": 0,\n  \"contact[time_created]\": 1641227864,\n  \"contact[time_updated]\": 1641227864,\n  \"content\": \"The transaction for account number:$account for amount:$amount has failed on $date with following transaction id: $transactionid\",\n  \"direction\": \"outgoing\",\n  \"error_message\": \" \",\n  \"event\": \"send_status\",\n  \"from_number\": \"555-1212\",\n  \"id\": \"SM8edad9e1caf03b04\",\n  \"message_type\": \"sms\",\n  \"phone_id\": \"PNa2d2c147eb96c34d\",\n  \"priority\": 1,\n  \"project_id\": \"PJ5ff552ce01d2978c\",\n  \"secret\": \" \",\n  \"simulated\": 1,\n  \"source\": \"api\",\n  \"starred\": 0,\n  \"status\": \"delivered\",\n  \"time_created\": 1641306324,\n  \"time_sent\": 1641306324,\n  \"time_updated\": 1641306324,\n  \"to_number\": \"+15005550012\",\n  \"track_clicks\": 0,\n  \"user_id\": \"URfabcdb9eb26ca257\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{messagegatewayHost}}/telerivet/report/",
					"protocol": "http",
					"host": [
						"{{messagegatewayHost}}"
					],
					"path": [
						"telerivet",
						"report",
						""
					]
				}
			},
			"response": []
		}
	]
}